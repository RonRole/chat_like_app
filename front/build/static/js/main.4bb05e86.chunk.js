(this.webpackJsonpoonaon=this.webpackJsonpoonaon||[]).push([[0],{116:function(e,t,r){e.exports=r(177)},122:function(e,t,r){},174:function(e,t){},177:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(33),s=r.n(o),c=(r(121),r(122),r(10)),u=r(11),i=r(13),l=r(12),m=r(14),d=r(15),p=r(178),f=r(180),E=r(106),h=r(181),b=r(182),O=r(189),g=r(179),R={JOIN_ROOM:"JOIN_ROOM",LEAVE_ROOM:"LEAVE_ROOM",DISCONNECTED_FROM_SERVER:"DISCONNECTED_FROM_SERVER",ADD_MESSAGE:"ADD_MESSAGE",RECEIVE_MESSAGE:"RECEIVE_MESSAGE",SET_CURRENT_USER_IDS:"SET_CURRENT_USER_IDS",CLEAR_MESSAGE:"CLEAR_MESSAGE",REFRESH_CURRENT_ROOM_USERS:"REFRESH_CURRENT_ROOM_USERS",CHANGE_CURRENT_USER_STATUS:"CHANGE_CURRENT_USER_STATUS",RECEIVE_CURRENT_USER_STATUS:"RECEIVE_CURRENT_USER_STATUS"},v={joinRoom:function(e){var t=e.user,r=e.roomId;return{type:R.JOIN_ROOM,user:t,roomId:r}},leaveRoom:function(e){var t=e.user,r=e.roomId;return{type:R.LEAVE_ROOM,user:t,roomId:r}},addMessage:function(e){var t=e.roomId,r=e.className,a=e.user,n=e.text;return{type:R.ADD_MESSAGE,roomId:t,className:r,user:a,text:n}},receiveMessage:function(e){var t=e.roomId,r=e.className,a=e.user,n=e.text;return{type:R.RECEIVE_MESSAGE,roomId:t,className:r,user:a,text:n}},setCurrentUserIds:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{type:R.SET_CURRENT_USER_IDS,users:t}},clearMessage:function(e){return{type:R.CLEAR_MESSAGE,roomId:e}},refreshCurrentRoomUsers:function(e){var t=e.talkRoomId,r=e.userIds;return{type:R.REFRESH_CURRENT_ROOM_USERS,talkRoomId:t,userIds:r}},changeCurrentUserStatus:function(e){var t=e.talkRoomId,r=e.userId,a=e.status;return{type:R.CHANGE_CURRENT_USER_STATUS,talkRoomId:t,userId:r,status:a}},receiveCurrentUserStatus:function(e){var t=e.talkRoomId,r=e.userId,a=e.status;return{type:R.RECEIVE_CURRENT_USER_STATUS,talkRoomId:t,userId:r,status:a}}},y=r(22),I=r(16),j={EXEC_LOG_IN:"EXEC_LOG_IN",DEF_LOG_IN:"DEF_LOG_IN",LOG_IN:"LOG_IN",LOG_OUT:"LOG_OUT"},k={execLogin:function(e){var t=e.session,r=void 0===t?{name:"",password:""}:t,a=e.history,n=void 0===a?{}:a,o=e.then;return{type:j.EXEC_LOG_IN,session:r,history:n,then:void 0===o?function(){return console.log("tryed to login")}:o}},cookieLogin:function(e){var t=e.history,r=e.then;return{type:j.DEF_LOG_IN,history:t,then:r}},login:function(e){return{type:j.LOG_IN,loginUser:e}},logout:function(){return{type:j.LOG_OUT}}},_={0:{currentUserIds:[],currentUserStatus:{0:""},messages:[{roomID:0,className:"",text:"",user:""}]}},S={actions:v,reducer:{getMessagesByRoomId:function(e){return function(t){return(e.currentRoomStatus[t]||_[0]).messages}},getCurrentStatusOfRoom:function(e){return function(t){return e.currentRoomStatus[t]||_[0]}},createMessageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.LOG_IN:return Object(I.a)({},_);case R.ADD_MESSAGE:case R.RECEIVE_MESSAGE:return e[t.roomId]=e[t.roomId]||{messages:[]},e[t.roomId].messages=[].concat(Object(y.a)(e[t.roomId].messages),[{className:t.className,user:t.user.id,text:t.text}]),Object(I.a)({},e);case R.CLEAR_MESSAGE:return e[t.roomId].messages=[],Object(I.a)({},e);case R.REFRESH_CURRENT_ROOM_USERS:var r=e[t.talkRoomId]||{userIds:[]};return r.currentUserIds=Object(y.a)(t.userIds),Object(I.a)({},e);case R.CHANGE_CURRENT_USER_STATUS:case R.RECEIVE_CURRENT_USER_STATUS:var a=e[t.talkRoomId]||{userIds:[]};return a.currentUserStatus=a.currentUserStatus||{},a.currentUserStatus[t.userId]=t.status,Object(I.a)({},e);default:return e}}}},x="EXEC_GET_SELF",U="EXEC_CREATE_USER",N="EXEC_UPDATE_USER",C="EXEC_SEARCH_USER",w="SET_CREATE_FORM_ERRORS",T="CLEAR_CREATE_FORM_ERRORS",A="SET_SEARCHED_USER",M="ADD_USER",D={execGetSelf:function(){return{type:x}},execCreateUser:function(e){var t=e.history,r=e.userParams;return{type:U,history:t,userParams:r}},execUpdateUser:function(e){return{type:N,userParams:e}},execSearchUser:function(e){var t=e.userId,r=e.userName;return{type:C,userId:t,userName:r}},setCreateFormErrors:function(e){return{type:w,errors:e}},clearCreateFormErrors:function(){return{type:T,errors:{}}},setSearchedUsers:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{type:A,users:t}},clearSearchedUsers:function(){return{type:A,users:[]}},setUser:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{type:M,users:t}}},L={id:0,name:"",image:{url:"",profile:{url:""},thumb:{url:""}}},B={searchedUserIds:[],0:L},F={actions:D,reducer:{getUserById:function(e){return function(t){return e.users[t]||L}},createReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.LOG_IN:return B;case M:return t.users.forEach((function(t){e[t.id]=t})),Object(I.a)({},e);case A:return t.users.forEach((function(t){e[t.id]=t})),Object(I.a)({},e,{searchedUserIds:t.users.map((function(e){return e.id}))});default:return e}}}},P="GET_OWN_ROOMS",G="GET_JOINED_ROOMS",V="EXEC_ADD_ROOM",J="EXEC_DELETE_ROOM",K="EXEC_UPDATE_ROOM",H="EXEC_ADD_USER_TO_TALKROOM",X="EXEC_GET_TALKROOM_MEMBER",W="SET_OWN_ROOMS",z="SET_JOINED_ROOMS",Y="ADD_TALK_ROOM",$="DELETE_TALK_ROOM",q="UPDATE_TALK_ROOM",Q="ADD_USERS_TO_TALK_ROOM",Z={execGetOwnRooms:function(e){return{type:P,history:e}},execGetJoinedRooms:function(e){return{type:G,history:e}},execAddTalkRoom:function(e){var t=e.history,r=e.title,a=void 0===r?"New Room":r,n=e.description,o=void 0===n?"This is a new talk room":n,s=e.authorId;return{type:V,history:t,title:a,description:o,authorId:s}},execUpdateTalkRoom:function(e){var t=e.talkRoomId,r=e.title,a=e.description;return{type:K,talkRoomId:t,title:r,description:a}},execDeleteTalkRoom:function(e){return{type:J,talkRoomId:e}},execAddUserToTalkRoom:function(e){var t=e.userId,r=e.talkRoomId;return{type:H,userId:t,talkRoomId:r}},execGetTalkRoomUser:function(e){return{type:X,talkRoomId:e}},setOwnRooms:function(e){return{type:W,talkRooms:e}},setJoinedRooms:function(e){return{type:z,talkRooms:e}},addTalkRoom:function(e){return{type:Y,talkRoom:e}},updateTalkRoom:function(e){var t=e.talkRoomId,r=e.talkRoom;return{type:q,talkRoomId:t,talkRoom:r}},deleteTalkRoom:function(e){var t=e.talkRoomId;return{type:$,talkRoomId:t}},addUsersToTalkRoom:function(e){var t=e.talkRoomId,r=e.userIds;return{type:Q,talkRoomId:t,userIds:r}}},ee={ownRooms:{},joinRooms:{}},te={actions:Z,reducer:{getOwnRoomIds:function(e){return Object.keys(e.talkRooms.ownRooms)},getJoinRoomIds:function(e){return Object.keys(e.talkRooms.joinRooms)},getTalkRoomById:function(e){return function(t){return e.talkRooms.ownRooms[t]||e.talkRooms.joinRooms[t]||{}}},createReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.LOG_IN:return ee;case W:return e.ownRooms={},t.talkRooms.forEach((function(t){e.ownRooms[t.id]=t})),Object(I.a)({},e);case z:return e.joinRooms={},t.talkRooms.forEach((function(t){e.joinRooms[t.id]=t})),Object(I.a)({},e);case Y:return e.ownRooms[t.talkRoom.id]=t.talkRoom,Object(I.a)({},e);case $:return delete e.ownRooms[t.talkRoomId],Object(I.a)({},e);case Q:var r=e.ownRooms[t.talkRoomId]||e.joinRooms[t.talkRoomId]||{userIds:[]},a=r.userIds||[];return r.userIds=Object(y.a)(new Set([].concat(Object(y.a)(a),Object(y.a)(t.userIds)))),Object(I.a)({},e);case q:return e.ownRooms[t.talkRoomId]=Object(I.a)({},e.ownRooms[t.talkRoomId],{},t.talkRoom),Object(I.a)({},e);default:return e}}}},re=function(e){function t(){var e,r;Object(c.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).classNameToVariant={joinRoom:"primary",leaveRoom:"danger",myMessage:"success",receiveMessage:"secondary"},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.joinRoom({user:this.props.loginUser,roomId:this.props.match.params.id}),window.onbeforeunload=function(){e.props.leaveRoom({user:e.props.loginUser,roomId:e.props.match.params.id})}}},{key:"componentWillUnmount",value:function(){this.props.leaveRoom({user:this.props.loginUser,roomId:this.props.match.params.id})}},{key:"componentDidUpdate",value:function(){document.getElementById("messageArea").scrollTo(0,document.getElementById("messageArea").scrollHeight)}},{key:"render",value:function(){var e=this;return n.a.createElement(p.a,{id:"messageArea",className:this.props.className,style:this.props.style},n.a.createElement(O.a,null,this.props.getMessagesByRoomId(this.props.match.params.id).map((function(t,r){return n.a.createElement(g.a,{key:r,timeout:100,classNames:"fade"},n.a.createElement(f.a,null,n.a.createElement(E.a,{className:!0,md:t.md},n.a.createElement(h.a,{src:e.props.getUserById(t.user).image.thumb.url}),n.a.createElement("strong",{className:"ml-2"},e.props.getUserById(t.user).name),n.a.createElement(b.a,{variant:e.classNameToVariant[t.className],key:r,style:{overflow:"auto"}},t.text))))}))))}}]),t}(n.a.Component),ae=Object(d.b)((function(e){return{state:e,loginUser:e.logStatus.isLoggedIn,getTalkRoomById:function(t){return te.reducer.getTalkRoomById(e)(t)},getMessagesByRoomId:function(t){return S.reducer.getMessagesByRoomId(e)(t)},getUserById:function(t){return F.reducer.getUserById(e)(t)}}}),(function(e){return{joinRoom:function(t){var r=t.user,a=t.roomId;return e(S.actions.joinRoom({user:r,roomId:a}))},leaveRoom:function(t){var r=t.user,a=t.roomId;return e(S.actions.leaveRoom({user:r,roomId:a}))}}}))(re),ne=r(185),oe=r(107),se=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(oe.a,{variant:"warning",type:"submit"},"\u25b6")}}]),t}(n.a.Component),ce=function(e){function t(){var e,r;Object(c.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).startInputting=function(){return r.props.changeUserStatus({talkRoomId:r.props.match.params.id,userId:r.props.loginUser.id,status:"\u5165\u529b\u4e2d"})},r.finishInputting=function(){return r.props.changeUserStatus({talkRoomId:r.props.match.params.id,userId:r.props.loginUser.id,status:""})},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(p.a,this.props,n.a.createElement(ne.a,{onSubmit:function(t){t.preventDefault(),e.props.sendMessage({roomId:e.props.match.params.id,className:"myMessage",text:t.currentTarget.inputMessage.value,user:e.props.loginUser}),t.currentTarget.inputMessage.value="",e.finishInputting()}},n.a.createElement(f.a,null,n.a.createElement(E.a,{xs:10,sm:10,md:11},n.a.createElement(ne.a.Control,{name:"inputMessage",type:"text",placeholder:"\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u306d",onFocus:this.startInputting,onChange:this.startInputting,onBlur:this.finishInputting})),n.a.createElement(E.a,{xs:2,sm:2,md:1},n.a.createElement(se,null)))))}}]),t}(n.a.Component),ue=Object(d.b)((function(e){return{loginUser:e.logStatus.isLoggedIn}}),(function(e){return{changeUserStatus:function(t){var r=t.talkRoomId,a=t.userId,n=t.status;e(S.actions.changeCurrentUserStatus({talkRoomId:r,userId:a,status:n}))},sendMessage:function(t){var r=t.roomId,a=t.className,n=t.text,o=t.user;e(S.actions.addMessage({roomId:r,className:a,text:n,user:o}))}}}))(ce),ie=function(e){var t=e.frontComponent,r=e.backComponent,a=e.transParent,o=void 0!==a&&a;return n.a.createElement("div",{className:"d-flex",style:{alignItems:"center"}},n.a.createElement("div",{style:{zIndex:1,opacity:o?.1:1,transition:"all 0.2s ease-out"}},t),n.a.createElement("div",{style:{zIndex:0,position:"absolute",textAlign:"center"}},r))},le=function(e){function t(){var e,r;Object(c.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).getCurrentUserIds=function(){return r.props.getCurrentRoomStatusById(r.props.match.params.id).currentUserIds||[]},r.getCurrentUserStatus=function(){return r.props.getCurrentRoomStatusById(r.props.match.params.id).currentUserStatus||[]},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(p.a,this.props,n.a.createElement("h6",null,n.a.createElement("strong",null,"\u4eca\u3044\u308b\u4eba\u305f\u3061")),n.a.createElement(O.a,{className:"d-flex"},this.getCurrentUserIds().map((function(t){return e.props.getUserById(t)})).map((function(t,r){return n.a.createElement(g.a,{key:r,timeout:100,classNames:"fade"},n.a.createElement(ie,{frontComponent:n.a.createElement(h.a,{className:"mr-2 mb-2",id:"set_image",src:t.image.thumb.url,style:{width:"50px",height:"50px",zIndex:"1"},fluid:!0}),backComponent:n.a.createElement("div",{style:{fontWeight:"bold",textAlign:"center",width:"50px"}},e.getCurrentUserStatus()[t.id]),transParent:e.getCurrentUserStatus()[t.id]}))}))))}}]),t}(n.a.Component),me=Object(d.b)((function(e){return{allState:e,getCurrentRoomStatusById:function(t){return S.reducer.getCurrentStatusOfRoom(e)(t)},getUserById:function(t){return F.reducer.getUserById(e)(t)}}}))(le),de=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(p.a,{className:"justify-content-center"},n.a.createElement("strong",null,this.props.getTalkRoomById(this.props.match.params.id).title),n.a.createElement(me,Object.assign({},this.props,{className:"mb-2",style:{height:"auto",width:"100%",border:"1px solid gray"}})),n.a.createElement(ae,Object.assign({},this.props,{className:"mb-2",style:{height:"65vh",width:"100%",overflow:"scroll",border:"1px solid gray"}})),n.a.createElement(ue,this.props))}}]),t}(n.a.Component),pe=Object(d.b)((function(e){return{state:e,getTalkRoomById:function(t){return te.reducer.getTalkRoomById(e)(t)},getUserById:function(t){return F.reducer.getUserById(e)(t)}}}))(de),fe=r(38),Ee=r(44),he=r(188),be=r(187),Oe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(he.a,{collapseOnSelect:!0,expand:"sm",bg:"dark",variant:"dark",sticky:"top"},n.a.createElement(he.a.Brand,null,"CHAT LIKE APP"),n.a.createElement(he.a.Toggle,null),n.a.createElement(he.a.Collapse,null,n.a.createElement(be.a,null,this.props.children)))}}]),t}(n.a.Component),ge=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.isLoggedIn?n.a.createElement(Ee.b,this.props):n.a.createElement(Ee.b,{exact:this.props.exact,path:this.props.path,render:function(){return n.a.createElement(Ee.a,{to:{pathname:"/signin",flash:"\u30ed\u30b0\u30a4\u30f3\u3057\u308d\u3088"}})}})}}]),t}(n.a.Component),Re=Object(d.b)((function(e){return{isLoggedIn:e.logStatus.isLoggedIn}}),null)(ge),ve={isLoggedIn:!1},ye={actions:k,reducer:{creatReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.TRY_LOG_IN:return Object(I.a)({},e);case j.LOG_IN:return Object(I.a)({},e,{isLoggedIn:t.loginUser,loginErrorMessages:[]});case j.LOG_OUT:return Object(I.a)({},e,{isLoggedIn:!1,loginErrorMessages:[]});default:return e}}}},Ie=function(e){var t=e.className,r=void 0===t?"":t,a=e.style,o=void 0===a?"":a,s=e.defaultValue,c=void 0===s?"":s,u=e.errorMessages,i=void 0===u?[]:u;return n.a.createElement(ne.a.Group,{controlId:"idForm",className:r,style:Object(I.a)({},o)},n.a.createElement(ne.a.Label,null,"\u30e6\u30fc\u30b6\u30fcID"),n.a.createElement(ne.a.Control,{type:"text",name:"id",placeholder:"ID",isInvalid:i.length>0,defaultValue:c}),n.a.createElement(ne.a.Control.Feedback,{type:"invalid"},i.find((function(e){return e}))))},je=function(e){var t=e.className,r=void 0===t?"":t,a=e.style,o=void 0===a?"":a,s=e.defaultValue,c=void 0===s?"":s,u=e.errorMessages,i=void 0===u?[]:u;return n.a.createElement(ne.a.Group,{controlId:"nameForm",className:r,style:Object(I.a)({},o)},n.a.createElement(ne.a.Label,null,"\u540d\u524d"),n.a.createElement(ne.a.Control,{type:"text",name:"name",placeholder:"\u540d\u524d",isInvalid:i.length>0,defaultValue:c}),n.a.createElement(ne.a.Control.Feedback,{type:"invalid"},i.find((function(e){return e}))))},ke=function(e){var t=e.className,r=void 0===t?"":t,a=e.style,o=void 0===a?"":a,s=(e.defaultValue,e.errorMessages),c=void 0===s?[]:s;return n.a.createElement(ne.a.Group,{controlId:"passwordForm",className:r,style:Object(I.a)({},o)},n.a.createElement(ne.a.Label,null,"\u30d1\u30b9\u30ef\u30fc\u30c9"),n.a.createElement(ne.a.Control,{type:"password",name:"password",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9",isInvalid:c.length>0}),n.a.createElement(ne.a.Control.Feedback,{type:"invalid"},c.find((function(e){return e}))))},_e=function(e){var t=e.className,r=void 0===t?"":t,a=e.style,o=void 0===a?"":a,s=(e.defaultValue,e.errorMessages),c=void 0===s?[]:s;return n.a.createElement(ne.a.Group,{controlId:"passwordConfirmationForm",className:r,style:Object(I.a)({},o)},n.a.createElement(ne.a.Label,null,"\u30d1\u30b9\u30ef\u30fc\u30c9\u78ba\u8a8d"),n.a.createElement(ne.a.Control,{type:"password",name:"password_confirmation",placeholder:"\u3082\u3046\u4e00\u5ea6\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",isInvalid:c.length>0}),n.a.createElement(ne.a.Control.Feedback,{type:"invalid"},c.find((function(e){return e}))))},Se=function(e){function t(){var e,r;Object(c.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).state={uploadFileImage:r.props.defaultValue,transParentProfile:!1},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(ne.a.Group,{controlId:"signUpImageForm"},n.a.createElement(ne.a.Control,{style:{display:"none"},type:"file",name:"image",isInvalid:this.props.errorMessages.length>0,onChange:function(t){var r=new FileReader,a=t.currentTarget.files[0];r.onload=function(t){e.setState({uploadFileImage:t.target.result})},a?r.readAsDataURL(a):e.setState({uploadFileImage:null})}}),n.a.createElement(ie,{frontComponent:n.a.createElement("img",{style:{backgroundColor:this.state.uploadFileImage?"white":""},onClick:function(){return document.getElementById("signUpImageForm").click()},onMouseOver:function(){return e.setState({transParentProfile:!0})},onMouseLeave:function(){return e.setState({transParentProfile:!1})},className:"mb-2",src:this.state.uploadFileImage,width:"200px",height:"200px"}),backComponent:n.a.createElement("div",{style:{fontWeight:"bold",color:"gray",width:"200px"}},"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf\u5909\u66f4"),transParent:this.state.transParentProfile}),n.a.createElement(ne.a.Control.Feedback,{type:"invalid"},this.props.errorMessages.find((function(e){return e}))))}}]),t}(n.a.Component),xe="SET_ERROR",Ue="CLEAR_ERROR_BY_NAME",Ne={setError:function(e){var t=e.formName,r=e.errorJson;return{type:xe,formName:t,errorJson:r}},clearErrorByName:function(e){return{type:Ue,formName:e,errorJson:{}}}},Ce={},we={actions:Ne,reducer:{getErrorsOf:function(e){return function(t){return function(r){return(e.formErrors[t]||[])[r]||[]}}},createReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.LOG_IN:return Ce;case xe:case Ue:return e[t.formName]=t.errorJson,Object(I.a)({},e);default:return e}}}},Te=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearLoginError()}},{key:"render",value:function(){var e=this;return n.a.createElement(ne.a,{onSubmit:function(t){t.preventDefault();var r=t.currentTarget;e.props.login({input:r,history:e.props.history})}},n.a.createElement(je,{errorMessages:this.props.loginErrorMessages}),n.a.createElement(ke,{errorMessages:this.props.loginErrorMessages}),n.a.createElement(oe.a,{variant:"primary",type:"submit"},"\u9001\u4fe1"))}}]),t}(n.a.Component),Ae=Object(d.b)((function(e){return{state:e,loginErrorMessages:we.reducer.getErrorsOf(e)("loginForm")("messages")}}),(function(e){return{login:function(t){var r=t.input,a=t.history;e(ye.actions.execLogin({session:{name:r.name.value,password:r.password.value},history:a}))},logout:function(){return e(ye.actions.logout())},clearLoginError:function(){e(we.actions.clearErrorByName("loginForm"))}}}))(Te),Me=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(p.a,null,this.props.location.flash?n.a.createElement(b.a,{variant:"danger"},this.props.location.flash):"",n.a.createElement("strong",null,"\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8"),n.a.createElement(Ae,{history:this.props.history}))}}]),t}(n.a.Component),De=r(190),Le="SHOW_MODAL_OF",Be="CLOSE_MODAL_OF",Fe={},Pe={actions:{showModalOf:function(e){return{type:Le,modalName:e}},closeModalOf:function(e){return{type:Be,modalName:e}}},reducer:{getModalStateOf:function(e){return function(t){return(e.modalStates||{})[t]}},createReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return e[t.modalName]=!0,Object(I.a)({},e);case Be:return e[t.modalName]=!1,Object(I.a)({},e);default:return e}}}},Ge=r(184),Ve=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(Ge.a,{show:this.props.show,size:"md",centered:!0},n.a.createElement(ne.a,{onSubmit:function(t){return e.props.onSubmit(t)}},n.a.createElement(Ge.a.Header,null,n.a.createElement("strong",null,this.props.header)),n.a.createElement(Ge.a.Body,null,this.props.body),n.a.createElement(Ge.a.Footer,null,this.props.footer)))}}]),t}(n.a.Component),Je=function(e){var t=e.className,r=void 0===t?"":t,a=e.style,o=void 0===a?"":a,s=e.errorMessages,c=void 0===s?[]:s,u=e.defaultValue,i=void 0===u?"":u;return n.a.createElement(ne.a.Group,{controlId:"titleForm",className:r,style:Object(I.a)({},o)},n.a.createElement(ne.a.Label,null,"\u30bf\u30a4\u30c8\u30eb"),n.a.createElement(ne.a.Control,{type:"text",name:"title",placeholder:"\u30bf\u30a4\u30c8\u30eb",isInvalid:c.length>0,defaultValue:i}),n.a.createElement(ne.a.Control.Feedback,{type:"invalid"},c.find((function(e){return e}))))},Ke=function(e){var t=e.className,r=void 0===t?"":t,a=e.style,o=void 0===a?"":a,s=e.errorMessages,c=void 0===s?[]:s,u=e.defaultValue,i=void 0===u?"":u;return n.a.createElement(ne.a.Group,{controlId:"descriptionForm",className:r,style:Object(I.a)({},o)},n.a.createElement(ne.a.Label,null,"\u8aac\u660e"),n.a.createElement(ne.a.Control,{type:"text",name:"description",placeholder:"\u8aac\u660e",isInvalid:c.length>0,defaultValue:i}),n.a.createElement(ne.a.Control.Feedback,{type:"invalid"},c.find((function(e){return e}))))},He=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.getTalkRoomById(this.props.talkRoomId);return n.a.createElement(Ve,Object.assign({},this.props,{header:n.a.createElement("strong",null,"\u30c8\u30fc\u30af\u30eb\u30fc\u30e0\u3092\u304b\u3048\u308b"),body:n.a.createElement("div",null,n.a.createElement(Je,{defaultValue:t.title}),n.a.createElement(Ke,{defaultValue:t.description})),footer:n.a.createElement("div",null,n.a.createElement(oe.a,{className:"mr-2",type:"submit"},"\u304b\u3048\u308b"),n.a.createElement(oe.a,{variant:"secondary",onClick:this.props.onCancel},"\u3084\u3081\u308b")),onSubmit:function(t){t.preventDefault(),e.props.updateTalkRoom({talkRoomId:e.props.talkRoomId,title:t.currentTarget.title.value,description:t.currentTarget.description.value}),e.props.onCancel()}}))}}]),t}(n.a.Component),Xe=Object(d.b)((function(e){return{getTalkRoomById:function(t){return te.reducer.getTalkRoomById(e)(t)}}}),(function(e){return{updateTalkRoom:function(t){var r=t.talkRoomId,a=t.title,n=t.description;e(te.actions.execUpdateTalkRoom({talkRoomId:r,title:a,description:n}))}}}))(He),We=r(186),ze=function(e){var t=e.className,r=void 0===t?"":t,a=(e.style,e.user),o=void 0===a?{id:0,name:"",image:{profile:{url:""}}}:a;return n.a.createElement(p.a,{className:"".concat(r," d-flex justify-content-center")},n.a.createElement("section",{id:"info"},n.a.createElement("div",{id:"loginUserID"},n.a.createElement("strong",{style:{borderBottom:"1px solid gray"}},"\u30e6\u30fc\u30b6\u30fcID"),n.a.createElement("div",null,o.self_id)),n.a.createElement("div",{id:"loginUserName"},n.a.createElement("strong",{style:{borderBottom:"1px solid gray"}},"\u304a\u540d\u524d"),n.a.createElement("div",null,o.name))),n.a.createElement(h.a,{style:{objectFit:"contain"},src:o.image.profile.url}))},Ye=Object(d.b)((function(e){return{getTalkRoomById:function(t){return te.reducer.getTalkRoomById(e)(t)}}}),(function(e){return{addUserToTalkRoom:function(t){var r=t.userId,a=t.talkRoomId;e(te.actions.execAddUserToTalkRoom({userId:r,talkRoomId:a}))}}}))((function(e){var t=e.userId,r=e.talkRoomId,a=e.getTalkRoomById,o=e.addUserToTalkRoom;return Object(y.a)(a(r).userIds).some((function(e){return e===t}))?n.a.createElement(oe.a,{variant:"success",disabled:!0},"\u3059\u3067\u306b\u53c2\u52a0\u3057\u3066\u3044\u307e\u3059"):n.a.createElement(oe.a,{variant:"success",onClick:function(){o({userId:t,talkRoomId:r})}},"\u8a98\u3046")})),$e=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"checkAlreadyJoined",value:function(e){return[this.props.getTalkRoomById(this.props.talkRoomId)].flatMap((function(e){return e.userIds})).some((function(t){return t===e.id}))}},{key:"render",value:function(){var e=this;return n.a.createElement(Ve,Object.assign({},this.props,{header:n.a.createElement("strong",null,"\u30e6\u30fc\u30b6\u30fc\u3092\u8a98\u3046"),body:n.a.createElement("div",null,n.a.createElement(Ie,{errorMessages:this.props.userInviteErrorMessages}),n.a.createElement(je,{errorMessages:this.props.userInviteErrorMessages}),n.a.createElement(O.a,null,Object(y.a)(this.props.searchedUserIds).map((function(t){return e.props.getUserById(t)})).filter((function(e){return e})).map((function(t,r){return n.a.createElement(g.a,{key:t.id,classNames:"fade",timeout:100},n.a.createElement("div",null,n.a.createElement("h6",{style:{textAlign:"center"}},n.a.createElement("strong",null,"\u3053\u306e\u4eba\u3092\u8a98\u3044\u307e\u3059\u304b?")),n.a.createElement(ze,{className:"mb-2",user:t}),n.a.createElement("div",{className:"d-flex justify-content-end"},n.a.createElement(Ye,{userId:t.id,talkRoomId:e.props.talkRoomId}))))})))),footer:n.a.createElement("div",null,n.a.createElement(oe.a,{className:"mr-2",type:"submit"},"\u3055\u304c\u3059"),n.a.createElement(oe.a,{variant:"secondary",onClick:function(){e.props.onCancel(),e.props.clearSearchedUserIds(),e.props.clearErrorMessages()}},"\u3084\u3081\u308b")),onSubmit:function(t){t.preventDefault(),e.props.clearErrorMessages(),e.props.searchUser({userId:t.currentTarget.id.value,userName:t.currentTarget.name.value})}}))}}]),t}(n.a.Component),qe=Object(d.b)((function(e){return{state:e,loginUser:e.logStatus.isLoggedIn,getUserById:function(t){return F.reducer.getUserById(e)(t)},searchedUserIds:e.users.searchedUserIds,userInviteErrorMessages:we.reducer.getErrorsOf(e)("userInviteForm")("messages")}}),(function(e){return{searchUser:function(t){var r=t.userId,a=t.userName;e(F.actions.execSearchUser({userId:r,userName:a}))},clearSearchedUserIds:function(){e(F.actions.clearSearchedUsers())},clearErrorMessages:function(){e(we.actions.clearErrorByName("userInviteForm"))}}}))($e),Qe=function(e){function t(){var e,r;Object(c.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).state={userInvideModalShow:!1,updateModalShow:!1},r.getTalkRoom=function(e){return r.props.getTalkRoomById(e)},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(We.a,null,n.a.createElement(We.a.Toggle,{variant:"success"},"\u7ba1\u7406\u8005\u306e\u7279\u6a29"),n.a.createElement(We.a.Menu,null,n.a.createElement(We.a.Item,{style:{color:"blue"},onClick:function(){return e.setState({userInvideModalShow:!0})}},"\u8a98\u3046"),n.a.createElement(We.a.Item,{style:{color:"orange"},onClick:function(){return e.setState({updateModalShow:!0})}},"\u4f5c\u308a\u76f4\u3059"),n.a.createElement(We.a.Item,{style:{color:"red"},onClick:function(){window.confirm("".concat(e.getTalkRoom(e.props.talkRoomId).title,"\u3092\u524a\u9664\u3057\u307e\u3059\u304b?"))&&e.props.destroyTalkRoom(e.props.talkRoomId)}},"\u6d88\u3059")),n.a.createElement(qe,{talkRoomId:this.props.talkRoomId,show:this.state.userInvideModalShow,onCancel:function(){e.setState({userInvideModalShow:!1})}}),n.a.createElement(Xe,{talkRoomId:this.props.talkRoomId,show:this.state.updateModalShow,onCancel:function(){e.setState({updateModalShow:!1})}}))}}]),t}(n.a.Component),Ze=Object(d.b)((function(e){return{getTalkRoomById:function(t){return te.reducer.getTalkRoomById(e)(t)}}}),(function(e){return{destroyTalkRoom:function(t){e(te.actions.execDeleteTalkRoom(t))}}}))(Qe),et=function(e){function t(){var e,r;Object(c.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).getTalkRoom=function(e){return r.props.getTalkRoomById(e)},r.getUser=function(e){return r.props.getUserById(e)},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(De.a,null,n.a.createElement(De.a.Body,null,n.a.createElement("div",{className:"d-flex",style:{width:"100%"}},n.a.createElement("div",{className:"mr-2",style:{width:"100%",overflow:"auto"}},n.a.createElement(De.a.Title,null,n.a.createElement("strong",null,this.getTalkRoom(this.props.id).title)),n.a.createElement(De.a.Text,null,this.getTalkRoom(this.props.id).description)),n.a.createElement(h.a,{style:{width:"50px",height:"50px"},src:this.getUser(this.getTalkRoom(this.props.id).author_id).image.thumb.url,roundedCircle:!0})),n.a.createElement("div",{className:"d-flex justify-content-end mb-2"},n.a.createElement(fe.b,{className:"btn btn-primary",to:"/talk_rooms/".concat(this.props.id)},"\u5165\u308b")),n.a.createElement("div",{className:"d-flex justify-content-end"},[this.props.readOnly].filter((function(e){return!e})).map((function(t,r){return n.a.createElement(Ze,{key:r,talkRoomId:e.props.id})})))))}}]),t}(n.a.Component),tt=Object(d.b)((function(e){return{state:e,getTalkRoomById:function(t){return te.reducer.getTalkRoomById(e)(t)},getUserById:function(t){return F.reducer.getUserById(e)(t)}}}),(function(e){return{getMembers:function(t){e(te.actions.execGetTalkRoomUser(t))}}}))(et),rt=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(O.a,{className:"row"},this.props.talkRoomIds.map((function(t,r){return n.a.createElement(g.a,{key:r,timeout:100,classNames:"fade"},n.a.createElement(E.a,{key:r,md:{span:4},className:"mt-2 inline-block"},n.a.createElement(tt,{className:"col-md-4",id:t,key:t,readOnly:e.props.readOnly})))})))}}]),t}(n.a.Component),at=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(Ve,Object.assign({},this.props,{header:n.a.createElement("strong",null,"\u30c8\u30fc\u30af\u30eb\u30fc\u30e0\u3092\u3064\u304f\u308b"),body:n.a.createElement("div",null,n.a.createElement(Je,null),n.a.createElement(Ke,null)),footer:n.a.createElement("div",null,n.a.createElement(oe.a,{className:"mr-2",type:"submit"},"\u3064\u304f\u308b"),n.a.createElement(oe.a,{variant:"secondary",onClick:this.props.onCancel},"\u3084\u3081\u308b")),onSubmit:function(t){t.preventDefault(),e.props.addTalkRoom({title:t.currentTarget.title.value,description:t.currentTarget.description.value,authorId:e.props.loginUser.id}),e.props.onCancel()}}))}}]),t}(n.a.Component),nt=Object(d.b)((function(e){return{loginUser:e.logStatus.isLoggedIn}}),(function(e){return{addTalkRoom:function(t){var r=t.title,a=t.description,n=t.authorId;e(te.actions.execAddTalkRoom({title:r,description:a,authorId:n}))}}}))(at),ot=function(e){var t=e.userName,r=e.text;return n.a.createElement("div",null,n.a.createElement("h6",{style:{borderBottom:"1px solid gray"}},n.a.createElement("strong",null,t),r))},st=function(e){function t(){var e,r;Object(c.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).state={createModalShow:!1},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getOwnRooms(),this.props.getJoinRooms()}},{key:"render",value:function(){var e=this;return n.a.createElement(p.a,null,n.a.createElement(ot,{userName:this.props.loginUser.name,text:"\u3055\u3093\u304c\u4f5c\u6210\u3057\u305f\u30c8\u30fc\u30af\u30eb\u30fc\u30e0"}),n.a.createElement(oe.a,{variant:"primary",onClick:function(){return e.setState({createModalShow:!0})}},"\u30c8\u30fc\u30af\u30eb\u30fc\u30e0\u3092\u8ffd\u52a0"),n.a.createElement(rt,{talkRoomIds:this.props.ownRoomIds}),n.a.createElement(ot,{userName:this.props.loginUser.name,text:"\u3055\u3093\u304c\u53c2\u52a0\u3057\u3066\u3044\u308b\u30c8\u30fc\u30af\u30eb\u30fc\u30e0"}),n.a.createElement(rt,{talkRoomIds:this.props.joinRoomIds,readOnly:!0}),n.a.createElement(nt,{show:this.state.createModalShow,onCancel:function(){e.setState({createModalShow:!1})}}))}}]),t}(n.a.Component),ct=Object(d.b)((function(e){return{state:e,loginUser:e.logStatus.isLoggedIn,ownRoomIds:te.reducer.getOwnRoomIds(e),joinRoomIds:te.reducer.getJoinRoomIds(e)}}),(function(e){return{getOwnRooms:function(){return e(te.actions.execGetOwnRooms())},getJoinRooms:function(){return e(te.actions.execGetJoinedRooms())},showModalOf:function(t){return e(Pe.actions.showModalOf(t))}}}))(st),ut=r(183),it=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.loading?n.a.createElement("div",{style:{zIndex:9998,position:"fixed"},id:"loading",className:"d-flex justify-content-center align-items-center h-100 w-100"},n.a.createElement("div",{style:{position:"absolute",height:"100%",width:"100%",backgroundColor:"gray",opacity:"0.5"}}),n.a.createElement("div",{style:{position:"absolute",fontWeight:"bold",textShadow:"1px 1px 0 black",color:"white"},className:"d-flex flex-column justify-content-center align-items-center"},n.a.createElement(ut.a,{variant:"primary",animation:"border"}),"\u4eca\u65e5\u3082\u3044\u3044\u5929\u6c17")):n.a.createElement("div",null)}}]),t}(n.a.Component),lt=Object(d.b)((function(e){return{loading:e.loading}}))(it),mt=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"filterChangedParams",value:function(e,t){var r={};return Object.keys(t).filter((function(r){return e[r]!==t[r]})).forEach((function(e){r[e]=t[e]})),r}},{key:"filterNotBlankParams",value:function(e){var t={};return Object.keys(e).filter((function(t){return e[t]})).forEach((function(r){t[r]=e[r]})),t}},{key:"render",value:function(){var e=this,t=this.props.user;return n.a.createElement(Ve,Object.assign({},this.props,{header:n.a.createElement("strong",null,"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u66f4\u65b0"),body:n.a.createElement("div",null,n.a.createElement(Ie,{defaultValue:t.self_id,errorMessages:this.props.getErrorMessagesFromFormName("self_id")}),n.a.createElement(je,{defaultValue:t.name,errorMessages:this.props.getErrorMessagesFromFormName("name")}),n.a.createElement(Se,{defaultValue:t.image.profile.url,errorMessages:this.props.getErrorMessagesFromFormName("image")})),footer:n.a.createElement("div",{className:"d-flex justify-content-end"},n.a.createElement(oe.a,{type:"submit",className:"mr-2"},"\u66f4\u65b0"),n.a.createElement(oe.a,{variant:"secondary",onClick:function(){e.props.clearErrorMessages(),e.props.onCancel()}},"\u3084\u3081\u308b")),onSubmit:function(r){r.preventDefault();var a={self_id:r.currentTarget.id.value,name:r.currentTarget.name.value,image:r.currentTarget.image.files[0]},n=e.filterNotBlankParams(e.filterChangedParams(t,a));e.props.updateUser(Object(I.a)({id:t.id},n))}}))}}]),t}(n.a.Component),dt=Object(d.b)((function(e){return{getErrorMessagesFromFormName:function(t){return we.reducer.getErrorsOf(e)("updateUserForm")(t)}}}),(function(e){return{updateUser:function(t){e(F.actions.execUpdateUser(t))},clearErrorMessages:function(){e(we.actions.clearErrorByName("updateUserForm"))}}}))(mt),pt=function(e){function t(){var e,r;Object(c.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).state={updateUserModalShow:!1},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(p.a,{className:"justify-content-end"},n.a.createElement(ze,{user:this.props.loginUser,className:"mb-2"}),n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement(oe.a,{onClick:function(){return e.setState({updateUserModalShow:!0})}},"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3092\u66f4\u65b0\u3059\u308b")),n.a.createElement(dt,{user:this.props.loginUser,show:this.state.updateUserModalShow,onCancel:function(){return e.setState({updateUserModalShow:!1})}}))}}]),t}(n.a.Component),ft=Object(d.b)((function(e){return{state:e,loginUser:e.logStatus.isLoggedIn}}))(pt),Et=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearErrorMessages()}},{key:"render",value:function(){var e=this;return n.a.createElement(ne.a,{onSubmit:function(t){t.preventDefault();var r=t.currentTarget;e.props.signUp({input:r,history:e.props.history})}},n.a.createElement(je,{errorMessages:this.props.getErrorMessagesFromFormName("name")}),n.a.createElement(ke,{errorMessages:this.props.getErrorMessagesFromFormName("password")}),n.a.createElement(_e,{errorMessages:this.props.getErrorMessagesFromFormName("password_confirmation")}),n.a.createElement(Se,{errorMessages:this.props.getErrorMessagesFromFormName("image")}),n.a.createElement(oe.a,{variant:"primary",type:"submit"},"\u9001\u4fe1"))}}]),t}(n.a.Component),ht=Object(d.b)((function(e){return{state:e,getErrorMessagesFromFormName:function(t){return we.reducer.getErrorsOf(e)("signUpForm")(t)}}}),(function(e){return{signUp:function(t){var r=t.input,a=t.history;e(F.actions.execCreateUser({userParams:{name:r.name.value,password:r.password.value,password_confirmation:r.password_confirmation.value,image:r.image.files[0]},history:a}))},clearErrorMessages:function(){e(we.actions.clearErrorByName("signUpForm"))}}}))(Et),bt=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement(p.a,null,n.a.createElement("strong",null,"\u65b0\u898f\u767b\u9332"),n.a.createElement(ht,{history:this.props.history}))}}]),t}(n.a.Component),Ot=function(e){function t(){var e,r;Object(c.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).state={defaultLoaded:!1},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.defaultLogin({history:this.props.history,then:function(){return e.setState({defaultLoaded:!0})}})}},{key:"render",value:function(){return this.state.defaultLoaded?n.a.createElement(fe.a,null,n.a.createElement(lt,null),n.a.createElement(Oe,null,n.a.createElement(fe.b,{className:"nav-link",to:"/home"},"Home"),n.a.createElement(fe.b,{className:"nav-link",to:"/signup"},"Sign Up"),n.a.createElement(fe.b,{className:"nav-link",to:"/signin"},"Sign In"),n.a.createElement(fe.b,{className:"nav-link",to:"/talk_rooms"},"Talk Rooms")),n.a.createElement(Ee.d,null,n.a.createElement(Ee.b,{path:"/signin",component:Me}),n.a.createElement(Ee.b,{path:"/signup",component:bt}),n.a.createElement(Re,{exact:!0,path:"/home",component:ft}),n.a.createElement(Re,{exact:!0,path:"/talk_rooms",component:ct}),n.a.createElement(Re,{path:"/talk_rooms/:id",component:pe}),n.a.createElement(Ee.a,{to:"/home"}))):n.a.createElement(lt,null)}}]),t}(a.Component),gt=Object(d.b)(null,(function(e){return{defaultLogin:function(t){var r=t.history,a=t.then;e(ye.actions.cookieLogin({history:r,then:a}))}}}))(Ot);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Rt=r(42),vt=r(43),yt="START_LOADING",It="FINISH_LOADING",jt={startLoading:function(){return{type:yt}},finishLoading:function(){return{type:It}}},kt={actions:jt,reducer:{createReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt:return e+1;case It:return Math.max(e-1,0);default:return e}}}},_t=r(5),St=r.n(_t),xt=r(4);function Ut(e){return St.a.mark((function t(r){var a;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(xt.e)(jt.startLoading());case 2:return t.next=4,Object(xt.c)(e,r);case 4:return a=t.sent,t.next=7,Object(xt.d)(a);case 7:return t.next=9,Object(xt.e)(jt.finishLoading());case 9:case"end":return t.stop()}}),t)}))}var Nt=r(51),Ct=r.n(Nt);Ct.a.defaults.withCredentials=!0;var wt=function(e){return{isSuccess:!e.data.isFail,isFail:e.data.isFail,data:e.data}},Tt=function(e){return{isError:!0,data:e}},At={get:function(e){var t=e.url;return Ct.a.get(t).then((function(e){return wt(e)})).catch((function(e){return Tt(e)}))},post:function(e){var t=e.url,r=e.parameter,a=e.headers,n=void 0===a?{}:a;return Ct.a.post(t,r,n).then((function(e){return wt(e)})).catch((function(e){return Tt(e)}))},put:function(e){var t=e.url,r=e.parameter;return Ct.a.put(t,r).then((function(e){return wt(e)})).catch((function(e){return Tt(e)}))},delete:function(e){var t=e.url;return Ct.a.delete(t).then((function(e){return wt(e)})).catch((function(e){return Tt(e)}))}},Mt=function(e){var t=e.error,r=e.history;if(t)return t.response?401===t.response.status?(r.push("/login"),{message:"\u30ed\u30b0\u30a4\u30f3\u3057\u308d\u3088"}):{message:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"}:(alert("\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a8\u30e9\u30fc\u3067\u3059"),{message:"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a8\u30e9\u30fc\u3067\u3059"})},Dt=St.a.mark(Ft),Lt=St.a.mark(Pt),Bt=St.a.mark(Gt);function Ft(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(At.get,{url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_ADDRESS,"/login")});case 2:if(!(t=r.sent).isSuccess){r.next=10;break}return r.next=6,Object(xt.e)(D.setUser(t.data));case 6:return r.next=8,Object(xt.e)(k.login(t.data));case 8:r.next=11;break;case 10:Mt({error:t.data,history:e.history});case 11:case"end":return r.stop()}}),Dt)}function Pt(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(At.post,{url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_ADDRESS,"/login"),parameter:e.session});case 2:if(!(t=r.sent).isSuccess){r.next=10;break}return alert("\u3088\u3046\u3053\u305d".concat(t.data.name,"\u3055\u3093!")),r.next=7,Object(xt.e)(D.setUser(t.data));case 7:return r.next=9,Object(xt.e)(k.login(t.data));case 9:e.history.push("/home");case 10:if(!t.isFail){r.next=14;break}return alert("\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f"),r.next=14,Object(xt.e)(Ne.setError({formName:"loginForm",errorJson:t.data}));case 14:t.isError&&Mt({error:t.data,history:e.history}),e.then();case 16:case"end":return r.stop()}}),Lt)}function Gt(e){return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xt.e)(k.logout());case 2:case"end":return e.stop()}}),Bt)}var Vt=St.a.mark(rr),Jt=St.a.mark(ar),Kt=St.a.mark(nr),Ht=St.a.mark(or),Xt=St.a.mark(sr),Wt=St.a.mark(cr),zt=St.a.mark(ur),Yt=function(){return At.get({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_ADDRESS,"/talk_rooms/own")})},$t=function(){return At.get({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_ADDRESS,"/talk_rooms/join")})},qt=function(e){var t=e.title,r=e.description,a=e.authorId;return At.post({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_ADDRESS,"/talk_rooms"),parameter:{talkroom:{title:t,description:r,author_id:a}}})},Qt=function(e){return At.put({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_ADDRESS,"/talk_rooms/").concat(e.id),parameter:{talkroom:e}})},Zt=function(e){return At.delete({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_ADDRESS,"/talk_rooms/").concat(e)})},er=function(e){return At.get({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_ADDRESS,"/talk_rooms/").concat(e,"/users")})},tr=function(e){var t=e.talkRoomId,r=e.userId;return At.post({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_ADDRESS,"/talk_rooms/").concat(t,"/users"),parameter:{user:{id:r}}})};function rr(e){var t,r,a,n,o,s,c;return St.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(xt.b)(Yt);case 2:if(!(t=u.sent).isSuccess){u.next=32;break}return u.next=6,Object(xt.e)(Z.setOwnRooms(t.data));case 6:r=!0,a=!1,n=void 0,u.prev=9,o=t.data[Symbol.iterator]();case 11:if(r=(s=o.next()).done){u.next=18;break}return c=s.value,u.next=15,Object(xt.c)(cr,Z.execGetTalkRoomUser(c.id));case 15:r=!0,u.next=11;break;case 18:u.next=24;break;case 20:u.prev=20,u.t0=u.catch(9),a=!0,n=u.t0;case 24:u.prev=24,u.prev=25,r||null==o.return||o.return();case 27:if(u.prev=27,!a){u.next=30;break}throw n;case 30:return u.finish(27);case 31:return u.finish(24);case 32:t.isError&&Mt({error:t.data,history:e.history});case 33:case"end":return u.stop()}}),Vt,null,[[9,20,24,32],[25,,27,31]])}function ar(e){var t,r,a,n,o,s,c;return St.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(xt.b)($t);case 2:if(!(t=u.sent).isSuccess){u.next=32;break}return u.next=6,Object(xt.e)(Z.setJoinedRooms(t.data));case 6:r=!0,a=!1,n=void 0,u.prev=9,o=t.data[Symbol.iterator]();case 11:if(r=(s=o.next()).done){u.next=18;break}return c=s.value,u.next=15,Object(xt.c)(cr,Z.execGetTalkRoomUser(c.id));case 15:r=!0,u.next=11;break;case 18:u.next=24;break;case 20:u.prev=20,u.t0=u.catch(9),a=!0,n=u.t0;case 24:u.prev=24,u.prev=25,r||null==o.return||o.return();case 27:if(u.prev=27,!a){u.next=30;break}throw n;case 30:return u.finish(27);case 31:return u.finish(24);case 32:t.isFail&&alert("\u30c8\u30fc\u30af\u30eb\u30fc\u30e0\u3092\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f"),t.isError&&Mt({error:t.data,history:e.history});case 34:case"end":return u.stop()}}),Jt,null,[[9,20,24,32],[25,,27,31]])}function nr(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(qt,{title:e.title,description:e.description,authorId:e.authorId});case 2:if(!(t=r.sent).isSuccess){r.next=6;break}return r.next=6,Object(xt.e)(Z.addTalkRoom(t.data));case 6:t.isFail&&alert("\u30c8\u30fc\u30af\u30eb\u30fc\u30e0\u3092\u8ffd\u52a0\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f"),t.isError&&Mt({error:t.data,history:e.history});case 8:case"end":return r.stop()}}),Kt)}function or(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(Qt,{id:e.talkRoomId,title:e.title,description:e.description});case 2:if(!(t=r.sent).isSuccess){r.next=6;break}return r.next=6,Object(xt.e)(Z.updateTalkRoom({talkRoomId:e.talkRoomId,talkRoom:t.data}));case 6:t.isFail&&alert("".concat(e.talkRoom.title,"\u306e\u66f4\u65b0\u304c\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f")),t.isError&&Mt({error:t.error});case 8:case"end":return r.stop()}}),Ht)}function sr(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(Zt,e.talkRoomId);case 2:if(!(t=r.sent).isSuccess){r.next=6;break}return r.next=6,Object(xt.e)(Z.deleteTalkRoom({talkRoomId:e.talkRoomId}));case 6:t.isFail&&alert("\u30c8\u30fc\u30af\u30eb\u30fc\u30e0\u3092\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f"),t.isError&&Mt({error:t.error,history:e.history});case 8:case"end":return r.stop()}}),Xt)}function cr(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(er,e.talkRoomId);case 2:if(!(t=r.sent).isSuccess){r.next=8;break}return r.next=6,Object(xt.e)(Z.addUsersToTalkRoom({talkRoomId:e.talkRoomId,userIds:Object(y.a)(Object.keys(t.data).map((function(e){return t.data[e].id})))}));case 6:return r.next=8,Object(xt.e)(D.setUser.apply(D,Object(y.a)(Object.keys(t.data).map((function(e){return t.data[e]})))));case 8:t.isError&&Mt({error:t.error,history:e.history});case 9:case"end":return r.stop()}}),Wt)}function ur(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(tr,{talkRoomId:e.talkRoomId,userId:e.userId});case 2:if(!(t=r.sent).isSuccess){r.next=9;break}return alert("".concat(t.data.name,"\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f")),r.next=7,Object(xt.e)(D.setUser(t.data));case 7:return r.next=9,Object(xt.e)(Z.addUsersToTalkRoom({talkRoomId:e.talkRoomId,userIds:[e.userId]}));case 9:if(!t.isFail){r.next=13;break}return alert("\u305d\u3093\u306a\u30e6\u30fc\u30b6\u30fc\u3044\u307e\u305b\u3093"),r.next=13,Object(xt.e)(Ne.setError({formName:"userInviteForm",errorJson:{messages:["\u3053\u306eID,\u540d\u524d\u306e\u7d44\u5408\u308f\u305b\u304c\u5b58\u5728\u3057\u307e\u305b\u3093"]}}));case 13:t.isError&&Mt({error:t.error,history:e.history});case 14:case"end":return r.stop()}}),zt)}var ir=r(114),lr=r.n(ir);console.log("socket client connect to ".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SOCKET_ADDRESS));var mr=lr.a.connect(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SOCKET_ADDRESS,{path:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SOCKET_PATH||"/socket.io"}),dr=St.a.mark(yr),pr=St.a.mark(Ir),fr=St.a.mark(jr),Er=St.a.mark(kr),hr=St.a.mark(_r),br=St.a.mark(Sr),Or=St.a.mark(xr),gr=St.a.mark(Ur),Rr=St.a.mark(Nr),vr=St.a.mark(Cr);function yr(){return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(vt.b)((function(e){return mr.on("receiveMessage",(function(t){e(t)})),function(){mr.close()}})));case 1:case"end":return e.stop()}}),dr)}function Ir(){var e,t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(yr);case 2:e=r.sent;case 3:return r.next=6,Object(xt.f)(e);case 6:return t=r.sent,r.next=9,Object(xt.e)(D.setUser(t.user));case 9:return r.next=11,Object(xt.e)(v.receiveMessage({roomId:t.roomId,className:t.className,text:t.text,user:t.user}));case 11:r.next=3;break;case 13:case"end":return r.stop()}}),pr)}function jr(){return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(vt.b)((function(e){return mr.on("currentUsers",(function(t){e(t)})),function(){mr.close()}})));case 1:case"end":return e.stop()}}),fr)}function kr(){var e,t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(jr);case 2:e=r.sent,t=St.a.mark((function t(){var r;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(xt.f)(e);case 2:return r=t.sent,t.next=5,Object(xt.e)(v.refreshCurrentRoomUsers({talkRoomId:r.roomId,userIds:Object.keys(r.users).map((function(e){return r.users[e].id}))}));case 5:case"end":return t.stop()}}),t)}));case 4:return r.delegateYield(t(),"t0",6);case 6:r.next=4;break;case 8:case"end":return r.stop()}}),Er)}function _r(){return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(vt.b)((function(e){return mr.on("currentUserStatus",(function(t){e(t)})),function(){mr.close()}})));case 1:case"end":return e.stop()}}),hr)}function Sr(){var e,t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(_r);case 2:e=r.sent;case 3:return r.next=6,Object(xt.f)(e);case 6:return t=r.sent,r.next=9,Object(xt.e)(v.receiveCurrentUserStatus({talkRoomId:t.roomId,userId:t.userId,status:t.status}));case 9:r.next=3;break;case 11:case"end":return r.stop()}}),br)}function xr(){var e;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=St.a.mark((function e(){var t;return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xt.f)(R.JOIN_ROOM);case 2:t=e.sent,mr.on("reconnect",(function(){mr.emit("rejoinRoom",{user:t.user,roomId:t.roomId}),mr.emit("currentUsers",t.roomId)})),mr.connect(),mr.emit("joinRoom",{user:t.user,roomId:t.roomId}),mr.emit("currentUsers",t.roomId);case 7:case"end":return e.stop()}}),e)}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),Or)}function Ur(){var e;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(xt.f)(R.LEAVE_ROOM);case 3:return e=t.sent,mr.emit("leaveRoom",{user:e.user,roomId:e.roomId}),mr.emit("currentUsers",e.roomId),t.next=8,Object(xt.e)(v.clearMessage(e.roomId));case 8:mr.disconnect(),t.next=0;break;case 11:case"end":return t.stop()}}),gr)}function Nr(){var e;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(xt.f)(R.ADD_MESSAGE);case 3:e=t.sent,mr.emit("sendMessage",{roomId:e.roomId,text:e.text,user:e.user}),t.next=0;break;case 7:case"end":return t.stop()}}),Rr)}function Cr(){var e;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(xt.f)(R.CHANGE_CURRENT_USER_STATUS);case 3:e=t.sent,mr.emit("currentUserStatus",{roomId:e.talkRoomId,userId:e.userId,status:e.status}),t.next=0;break;case 7:case"end":return t.stop()}}),vr)}var wr=St.a.mark(Pr),Tr=St.a.mark(Gr),Ar=St.a.mark(Vr),Mr=St.a.mark(Jr),Dr=St.a.mark(Kr),Lr=function(e){var t=new FormData;return Object.keys(e).forEach((function(r){t.append("user[".concat(r,"]"),e[r])})),At.post({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_ADDRESS,"/users"),parameter:t,headers:{"Content-Type":"multipart/form-data"}})},Br=function(e){var t=new FormData;return Object.keys(e).forEach((function(r){t.append("user[".concat(r,"]"),e[r])})),At.put({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_ADDRESS,"/users/").concat(e.id),parameter:t,headers:{"Content-Type":"multipart/form-data"}})},Fr=function(e){var t=e.userId,r=e.userName;return At.get({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_ADDRESS,"/users/").concat(t,"?name=").concat(r)})};function Pr(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(Lr,e.userParams);case 2:if(!(t=r.sent).isSuccess){r.next=6;break}return r.next=6,Object(xt.e)(k.execLogin({session:{name:e.userParams.name,password:e.userParams.password},history:e.history}));case 6:if(!t.isFail){r.next=10;break}return alert("\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f"),r.next=10,Object(xt.e)(Ne.setError({formName:"signUpForm",errorJson:t.data}));case 10:t.isError&&Mt({error:t.data,history:e.history});case 11:case"end":return r.stop()}}),wr)}function Gr(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),r.next=3,Object(xt.b)(Br,e.userParams);case 3:if(!(t=r.sent).isSuccess){r.next=10;break}return alert("\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002"),r.next=8,Object(xt.e)(D.setUser(t.data));case 8:return r.next=10,Object(xt.e)(k.login(t.data));case 10:if(!t.isFail){r.next=13;break}return r.next=13,Object(xt.e)(Ne.setError({formName:"updateUserForm",errorJson:t.data}));case 13:t.isError&&Mt({error:t.data});case 14:case"end":return r.stop()}}),Tr)}function Vr(){return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(vt.b)((function(e){return mr.on("currentUsers",(function(t){e(t)})),function(){mr.close()}})));case 1:case"end":return e.stop()}}),Ar)}function Jr(){var e,t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(Vr);case 2:e=r.sent,t=St.a.mark((function t(){var r;return St.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(xt.f)(e);case 2:return r=t.sent,t.next=5,Object(xt.e)(D.setUser.apply(D,Object(y.a)(Object.keys(r.users).map((function(e){return r.users[e]})))));case 5:case"end":return t.stop()}}),t)}));case 4:return r.delegateYield(t(),"t0",6);case 6:r.next=4;break;case 8:case"end":return r.stop()}}),Mr)}function Kr(e){var t;return St.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(xt.b)(Fr,{userId:e.userId,userName:e.userName});case 2:if(!(t=r.sent).isSuccess){r.next=6;break}return r.next=6,Object(xt.e)(D.setSearchedUsers(t.data));case 6:if(!t.isFail){r.next=12;break}return alert("\u30e6\u30fc\u30b6\u30fc\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f"),r.next=10,Object(xt.e)(D.setSearchedUsers());case 10:return r.next=12,Object(xt.e)(Ne.setError({formName:"userInviteForm",errorJson:t.data}));case 12:t.isError&&Mt({error:t.data});case 13:case"end":return r.stop()}}),Dr)}var Hr=St.a.mark(zr),Xr=St.a.mark(Yr),Wr=St.a.mark(ea);function zr(e){var t,r,a;return St.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(xt.c)(Ft,e);case 2:return t=n.sent,n.next=5,Object(xt.d)(t);case 5:return n.next=7,Object(xt.c)(rr,e);case 7:return r=n.sent,n.next=10,Object(xt.c)(ar,e);case 10:return a=n.sent,n.next=13,Object(xt.d)(r);case 13:return n.next=15,Object(xt.d)(a);case 15:e.then();case 16:case"end":return n.stop()}}),Hr)}function Yr(e){var t,r,a;return St.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(xt.c)(Pt,e);case 2:return t=n.sent,n.next=5,Object(xt.d)(t);case 5:return n.next=7,Object(xt.c)(rr,e);case 7:return r=n.sent,n.next=10,Object(xt.c)(ar,e);case 10:return a=n.sent,n.next=13,Object(xt.d)(r);case 13:return n.next=15,Object(xt.d)(a);case 15:e.then();case 16:case"end":return n.stop()}}),Xr)}var $r=[Object(xt.g)(j.DEF_LOG_IN,Ut(zr)),Object(xt.g)(j.EXEC_LOG_IN,Ut(Yr)),Object(xt.g)(j.LOG_OUT,Gt)],qr=[Object(xt.g)(P,rr),Object(xt.g)(G,ar),Object(xt.g)(V,nr),Object(xt.g)(K,or),Object(xt.g)(J,sr),Object(xt.g)(X,cr),Object(xt.g)(H,ur)],Qr=[xr(),Ur(),Ir(),Nr(),kr(),Sr(),Cr()],Zr=[Object(xt.g)(U,Ut(Pr)),Object(xt.g)(C,Ut(Kr)),Object(xt.g)(N,Ut(Gr)),Jr()];function ea(){return St.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xt.a)([].concat($r,qr,Qr,Zr));case 2:case"end":return e.stop()}}),Wr)}var ta=Object(vt.a)(),ra=Object(Rt.e)(Object(Rt.c)({currentRoomStatus:S.reducer.createMessageReducer,logStatus:ye.reducer.creatReducer,talkRooms:te.reducer.createReducer,loading:kt.reducer.createReducer,users:F.reducer.createReducer,formErrors:we.reducer.createReducer,modalStates:Pe.reducer.createReducer}),Object(Rt.a)(ta));ta.run(ea);var aa=ra,na=r(28).createBrowserHistory();s.a.render(n.a.createElement(d.a,{store:aa},n.a.createElement(gt,{history:na})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[116,1,2]]]);
//# sourceMappingURL=main.4bb05e86.chunk.js.map